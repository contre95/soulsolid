<div id="contenido" class="animate__animated animate__fadeIn">
  <div id="app-status" hx-get="/ui/jobs/active" hx-trigger="load, every 5s" hx-swap="innerHTML" hx-swap-oob="true"></div>
     <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8">
        <h1 class="text-3xl font-bold text-slate-800 dark:text-white">Tags</h1>
         <div class="flex flex-row items-center gap-3">
           <button
             hx-get="/ui/library"
             hx-swap="outerHTML"
             hx-target="#contenido"
             title="Back to Library"
             class="cursor-pointer group inline-flex items-center px-4 py-3 rounded-md text-base font-medium tracking-wider transition-all duration-300 ease-out-expo hover:-translate-y-0.5 bg-purple-500/10 backdrop-blur-md border border-slate-400/30 text-slate-600 dark:text-slate-300 shadow-lg shadow-slate-500/10 hover:shadow-slate-500/20">
             <span class="flex items-center">
               <i class="fas fa-arrow-left mr-2 opacity-80"></i>
               <i class="fas fa-music opacity-80"></i>
             </span>
           </button>
             {{if index .EnabledProviders "musicbrainz"}}
              <button type="button"
                       hx-get="/ui/tag/edit/{{if .Track.ID}}{{.Track.ID}}{{else}}0{{end}}/search/musicbrainz"
                       hx-target="body"
                       hx-swap="beforeend"
                      class="group inline-flex items-center px-3 py-2 rounded-md text-sm font-medium tracking-wider transition-all duration-300 ease-out-expo hover:-translate-y-0.5 bg-orange-500/10 backdrop-blur-md border border-orange-400/30 text-orange-600 dark:text-orange-300 shadow-lg shadow-orange-500/10 hover:shadow-orange-500/20 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500">
              <img src="/svg/brainz.svg" alt="MusicBrainz" class="w-6 h-6 mr-2">
               <span class="hidden sm:inline text-base font-bold">MusicBrainz</span>
               <span class="htmx-indicator ml-2">
                 <i class="fas fa-spinner fa-spin"></i>
               </span>
             </button>
             {{end}}
             {{if index .EnabledProviders "discogs"}}
               <button type="button"
                        hx-get="/ui/tag/edit/{{if .Track.ID}}{{.Track.ID}}{{else}}0{{end}}/search/discogs"
                        hx-target="body"
                        hx-swap="beforeend"
                      class="cursor-pointer group inline-flex items-center px-3 py-2 rounded-md text-base font-medium tracking-wider transition-all duration-300 ease-out-expo hover:-translate-y-0.5 bg-slate-500/10 backdrop-blur-md border border-slate-400/30 text-slate-600 dark:text-slate-300 shadow-lg shadow-slate-500/10 hover:shadow-slate-500/20">
                 <img src="/svg/discogs.svg" alt="Discogs" class="w-6 h-6 mr-2">
               <span class="hidden sm:inline text-base font-bold">Discogs</span>
               <span class="htmx-indicator ml-2">
                 <i class="fas fa-spinner fa-spin"></i>
               </span>
             </button>
             {{end}}
             {{if index .EnabledProviders "deezer"}}
              <button type="button"
                       hx-get="/ui/tag/edit/{{if .Track.ID}}{{.Track.ID}}{{else}}0{{end}}/search/deezer"
                       hx-target="body"
                       hx-swap="beforeend"
                     class="cursor-pointer group inline-flex items-center px-3 py-2 rounded-md text-base font-medium tracking-wider transition-all duration-300 ease-out-expo hover:-translate-y-0.5 bg-purple-500/10 backdrop-blur-md border border-purple-400/30 text-purple-600 dark:text-purple-300 shadow-lg shadow-purple-500/10 hover:shadow-purple-500/20">
             <img src="/img/deezer.png" alt="Deezer" class="w-6 h-6 mr-2">
              <span class="hidden sm:inline text-base font-bold">Deezer</span>
              <span class="htmx-indicator ml-2">
                <i class="fas fa-spinner fa-spin"></i>
              </span>
           </button>
           {{end}}
         </div>
     </div>

     {{if .FetchError}}
     <div class="flex items-center gap-3 flex-wrap mb-6">
       <span class="group inline-flex items-center px-2 py-1 rounded-md text-xs font-medium tracking-wider transition-all duration-300 ease-out-expo hover:-translate-y-0.5 bg-gradient-to-r from-violet-500/10 to-orange-500/10 backdrop-blur-md border border-violet-400/30 border-r-orange-400/30 text-violet-600 dark:text-violet-300 dark:border-r-orange-300 shadow-lg shadow-violet-500/10 hover:shadow-violet-500/20">
         <span class="flex items-center">
           <i class="fas fa-exclamation-triangle mr-2 opacity-80"></i>
           <span class="font-semibold">{{.FetchError}}</span>
         </span>
       </span>
     </div>
     {{end}}

      <!-- Tag Editing Form Container -->
      <div>
        {{template "tag/edit_form" .}}
      </div>

      <script>
        // Close the search modal after selecting a track
        var modal = document.getElementById('search-modal');
        if (modal) {
          modal.remove();
        }
      </script>

 </div>
