<div id="navigation-content" class="bg-white/80 dark:bg-gray-900/70 rounded-2xl shadow-lg p-2 mb-2">
  <!-- Content will be loaded here -->
</div>

<div class="w-full bg-gray-100 dark:bg-gray-900/70">
  <!-- Artist Header Section -->
  <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6">
    <div class="flex items-center space-x-6">
      <div class="w-32 h-32 rounded-full shadow-lg overflow-hidden flex-shrink-0">
        <img src="{{if .Artist.ImageLarge}}{{.Artist.ImageLarge}}{{else if .Artist.ImageMedium}}{{.Artist.ImageMedium}}{{else}}/img/artist.svg{{end}}" alt="{{.Artist.Name}}" class="w-full h-full object-cover">
      </div>
      <div class="flex-1">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">{{.Artist.Name}}</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">{{len .Albums}} albums found</p>
        <div class="flex items-center space-x-4">
          <button hx-post="/downloads/artist?downloader={{$.Downloader}}"
                  hx-vals='{"artistId": "{{.Artist.ID}}"}'
                  hx-target="#toast-container"
                  hx-indicator="#artist-download-indicator"
                  hx-disabled-elt="this"
                  hx-trigger="click delay:500ms"
                  class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-full transition-colors relative">
            <span id="artist-download-indicator" class="absolute inset-0 flex items-center justify-center opacity-0">
              <div class="w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin opacity-90"></div>
            </span>
            <span class="relative z-10 flex items-center space-x-2">
              <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
              </svg>
              <span>Download Artist</span>
            </span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Albums Section -->
  <h3 class="text-xl font-semibold text-slate-900 dark:text-white mb-6">Albums</h3>
  <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 md:gap-6">
    {{if not .Albums}}
    <p class="text-slate-500 dark:text-slate-400 col-span-full text-center">No albums found</p>
    {{else}}
    {{range .Albums}}
    <div class="group bg-white dark:bg-slate-800 rounded-lg md:rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden">
      <!-- Album Cover -->
      <div class="aspect-square">
        <button hx-get="/downloads/album/{{.ID}}/tracks?downloader={{$.Downloader}}"
                hx-target="#navigation-content"
                hx-swap="innerHTML"
                hx-indicator="#album-loading-{{.ID}}"
                class="relative w-full h-full">
          <div id="album-loading-{{.ID}}" class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded opacity-0 transition-opacity">
            <div class="w-10 h-10 border-2 border-white border-t-transparent rounded-full animate-spin opacity-90"></div>
          </div>
          {{if .ImageXL}}
          <img src="{{.ImageXL}}" alt="{{.Title}}" class="w-full h-full object-cover rounded-lg shadow-lg ring-2 ring-white/20">
          {{else if .ImageLarge}}
          <img src="{{.ImageLarge}}" alt="{{.Title}}" class="w-full h-full object-cover rounded-lg shadow-lg ring-2 ring-white/20">
          {{else if .ImageMedium}}
          <img src="{{.ImageMedium}}" alt="{{.Title}}" class="w-full h-full object-cover rounded-lg shadow-lg ring-2 ring-white/20">
          {{else if .ImageSmall}}
          <img src="{{.ImageSmall}}" alt="{{.Title}}" class="w-full h-full object-cover rounded-lg shadow-lg ring-2 ring-white/20">
          {{else}}
          <div class="w-full h-full bg-purple-600 rounded-lg flex items-center justify-center shadow-lg ring-2 ring-white/20">
            <img src="/img/album.svg" alt="Album" class="w-8 h-8 opacity-50 mb-2">
            <span class="text-white font-medium text-lg">{{if .Title}}{{slice .Title 0 1}}{{else}}?{{end}}</span>
          </div>
          {{end}}
        </button>
      </div>

      <!-- Album Info -->
      <div class="p-2 md:p-4">
        <h3 class="font-semibold text-slate-900 dark:text-white truncate text-xs md:text-sm">{{.Title}}</h3>
        <p class="text-xs text-slate-600 dark:text-slate-400 mt-0.5 md:mt-1">
          {{if .ReleaseDate}}{{.ReleaseDate.Year}}{{end}}
          {{if .Type}}â€¢ {{.Type}}{{end}}
        </p>
      </div>
    </div>
    {{end}}
    {{end}}
  </div>
</div>
